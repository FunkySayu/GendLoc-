<ng-include ng-controller="ToolbarController" src="'src/client/toolbar/toolbar.html'"></ng-include>

<md-content layout="column" layout-align="center center" flex layout-padding>

    <md-card >
        <md-card-title>
            <md-card-title-text>
                <h1 ng-click="toogleSidenav()" class="md-headline" style="text-align: center">Prise de photo</h1>
            </md-card-title-text>
        </md-card-title>
        <!-- <img class="md-card-image" src="assets/placeholder/placeholder.png"> -->

        <!-- Support différent selon les navigateurs :
               Safari a une manière particulière de gérer la prise de photo ; on différencie
               donc les navigateurs
        -->
        <div ng-if="isSafari">
            <input type="file" accept="image/*">
        </div>

        <!-- Tout autre navigateur peut embed un champ vidéo -->
        <div ng-if="!isSafari" layout="column">
            <video ng-init="loadVideoStream()" id="photo" width="640" height="480" ng-src="videoUrl" autoplay></video>
            <button ng-click="takePicture()">Snap Photo</button>
            <canvas id="canvas" width="640" height="480"></canvas>
            <md-card-actions style="margin-bottom: 10px" layout="row" layout-align="center center">
                <md-button class="md-primary">Filmer</md-button>
                <md-button class="md-warn">Interrompre</md-button>
            </md-card-actions>

        </div>
    </md-card>


</md-content>
